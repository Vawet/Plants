import{a as o}from"./axios-NIGUFBhG.js";import{u as n}from"./index-BPo7qd-I.js";import{k as e}from"./element-plus-CDN9BKpg.js";const s="http://localhost:3000/api/edit",c=n(),d=async t=>{try{const a=new FormData;a.append("file",t.raw);const r=await o.post(`${s}/updateAvatar`,a,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`},withCredentials:!0});r.data.code===200?(e.success("头像修改成功"),c.updateImg(r.data.data.avatar)):e.error("头像修改失败，请稍后重试")}catch(a){console.error("上传头像出错!：",a),e.error("网络异常，头像修改失败!")}},h=async t=>{try{const a={nickname:t.author,bioch:t.authorBio,bioen:t.authorBioEn};(await o.post(`${s}/updatePerson`,a,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},withCredentials:!0})).data.code===200?e.success("个人信息修改成功"):e.error("个人信息修改失败")}catch(a){console.error("上传个人信息出错!：",a),e.error("网络异常，个人信息修改失败!")}};export{h as a,d as h};
