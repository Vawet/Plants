import{p,M as d,o as a,O as e,Q as t,U as S,c as v,a as l,V as U,K as b,ag as M,P as y,S as A,b as V,r as z,a3 as B,u as $,L as H,a6 as j}from"./@vue-CisjAB5t.js";import{_ as D,u as R}from"./index-BPo7qd-I.js";import{u as G,b as J}from"./vue-router-Cy3-6-Xz.js";import{E as O,a as q,b as F,c as K,d as Q,e as T,f as W,g as X,h as Y,i as Z,j as ee,k as I,l as te,m as oe,n as ae}from"./element-plus-CDN9BKpg.js";import{h as ne}from"./editService-BWOmej4D.js";import"./pinia-BRCzBT2l.js";import"./@vueuse-Cg8ssQxY.js";import"./@unhead-kqohiLkD.js";import"./unhead-C_h-0uJb.js";import"./hookable-B8xFkYCm.js";import"./@element-plus-Bc65TjFU.js";import"./lodash-es-DCo95CJQ.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-CRx4dHSJ.js";import"./@popperjs-DB1lLFnh.js";import"./axios-NIGUFBhG.js";const se={__name:"CommonAside",setup(L){const u=p(()=>i.value.filter(c=>!c.children)),g=p(()=>i.value.filter(c=>c.children)),s=R(),_=p(()=>s.state.isCollapse),h=p(()=>s.state.isCollapse?"64px":"180px"),m=G(),w=J(),r=p(()=>w.path),o=c=>{m.push(c.path)},i=p(()=>(console.log("菜单数据:",s.state.menuList),s.state.menuList));return(c,k)=>{const C=q,x=K,E=F,N=O,P=Q;return a(),d(P,{width:h.value,class:"aside"},{default:e(()=>[t(N,{"background-color":"#545c64","text-color":"#fff",collapse:_.value,"collapse-transition":!1,"default-active":r.value},{default:e(()=>[S(l("h3",null,"通用后台管理系统",512),[[U,!_.value]]),S(l("h3",null,"后台",512),[[U,_.value]]),(a(!0),v(b,null,M(u.value,n=>(a(),d(C,{index:n.path,key:n.path,onClick:f=>o(n)},{default:e(()=>[(a(),d(y(n.icon),{class:"icons"})),l("span",null,A(n.label),1)]),_:2},1032,["index","onClick"]))),128)),(a(!0),v(b,null,M(g.value,n=>(a(),d(E,{index:n.path,key:n.path},{title:e(()=>[(a(),d(y(n.icon),{class:"icons"})),l("span",null,A(n.label),1)]),default:e(()=>[t(x,null,{default:e(()=>[(a(!0),v(b,null,M(n.children,(f,he)=>(a(),d(C,{index:f.path,key:f.path,onClick:ve=>o(f)},{default:e(()=>[(a(),d(y(f.icon),{class:"icons"})),l("span",null,A(f.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1024)]),_:2},1032,["index"]))),128))]),_:1},8,["collapse","default-active"])]),_:1},8,["width"])}}},le=D(se,[["__scopeId","data-v-26220afe"]]),re="/assets/user-default-_7rCtmRz.png",ce={class:"l-content"},ue={class:"r-content"},_e={class:"el-dropdown-link"},ie=["src"],de={__name:"CommonHeader",setup(L){const u=R(),g=p(()=>u.state.avatar||re);V(()=>u.state.avatar,(r,o)=>{console.log("头像更新了:",r,o)},{immediate:!0});const s=z(null);function _(){console.log("handleUpdateAvatar"),s.value.$el.querySelector("input").click()}function h(r){const o=r.type==="image/jpeg"||r.type==="image/png",i=r.size/1024/1024<2;return o||I.error("上传头像只能是 JPG/PNG 格式!"),i||I.error("上传头像大小不能超过 2MB!"),o&&i}const m=G(),w=()=>{u.clean(),m.push("/login")};return(r,o)=>{const i=T,c=W,k=Y,C=X,x=Z,E=ee;return a(),v("div",{class:H(["header",$(u).state.theme])},[l("div",ce,[t(c,{separator:"/",class:"bread"},{default:e(()=>[t(i,{to:{path:"/login"}},{default:e(()=>o[0]||(o[0]=[B("返回登录页面")])),_:1,__:[0]})]),_:1})]),l("div",ue,[t(x,null,{dropdown:e(()=>[t(C,null,{default:e(()=>[t(k,{onClick:_},{default:e(()=>o[1]||(o[1]=[B("修改头像")])),_:1,__:[1]}),t(k,{onClick:w},{default:e(()=>o[2]||(o[2]=[B("退出登录")])),_:1,__:[2]})]),_:1})]),default:e(()=>[l("span",_e,[l("img",{src:g.value,class:"avatar"},null,8,ie)])]),_:1}),t(E,{class:"avatar-uploader",action:"#","show-file-list":!0,"on-change":$(ne),"before-upload":h,style:{display:"none"},ref_key:"uploadRef",ref:s},null,8,["on-change"])])],2)}}},pe=D(de,[["__scopeId","data-v-184aee01"]]),me={class:"common-layout"},fe={__name:"Main",setup(L){return(u,g)=>{const s=oe,_=j("router-view"),h=ae,m=te;return a(),v("div",me,[t(m,{class:"lay-container"},{default:e(()=>[t(le),t(m,null,{default:e(()=>[t(s,null,{default:e(()=>[t(pe)]),_:1}),t(h,{class:"right-main"},{default:e(()=>[t(_)]),_:1})]),_:1})]),_:1})])}}},Ie=D(fe,[["__scopeId","data-v-b2a79827"]]);export{Ie as default};
